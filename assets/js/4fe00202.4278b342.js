"use strict";(self.webpackChunkexperimenter_docs=self.webpackChunkexperimenter_docs||[]).push([[5282],{4137:(e,t,n)=>{n.d(t,{Zo:()=>u,kt:()=>f});var a=n(7294);function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach((function(t){i(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function s(e,t){if(null==e)return{};var n,a,i=function(e,t){if(null==e)return{};var n,a,i={},r=Object.keys(e);for(a=0;a<r.length;a++)n=r[a],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(a=0;a<r.length;a++)n=r[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var l=a.createContext({}),m=function(e){var t=a.useContext(l),n=t;return e&&(n="function"==typeof e?e(t):o(o({},t),e)),n},u=function(e){var t=m(e.components);return a.createElement(l.Provider,{value:t},e.children)},c="mdxType",p={inlineCode:"code",wrapper:function(e){var t=e.children;return a.createElement(a.Fragment,{},t)}},d=a.forwardRef((function(e,t){var n=e.components,i=e.mdxType,r=e.originalType,l=e.parentName,u=s(e,["components","mdxType","originalType","parentName"]),c=m(n),d=i,f=c["".concat(l,".").concat(d)]||c[d]||p[d]||r;return n?a.createElement(f,o(o({ref:t},u),{},{components:n})):a.createElement(f,o({ref:t},u))}));function f(e,t){var n=arguments,i=t&&t.mdxType;if("string"==typeof e||i){var r=n.length,o=new Array(r);o[0]=d;var s={};for(var l in t)hasOwnProperty.call(t,l)&&(s[l]=t[l]);s.originalType=e,s[c]="string"==typeof e?e:i,o[1]=s;for(var m=2;m<r;m++)o[m]=n[m];return a.createElement.apply(null,o)}return a.createElement.apply(null,n)}d.displayName="MDXCreateElement"},8594:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>l,contentTitle:()=>o,default:()=>p,frontMatter:()=>r,metadata:()=>s,toc:()=>m});var a=n(7462),i=(n(7294),n(4137));const r={id:"feature-metadata",title:"Providing feature metadata",slug:"/fml/feature-metadata",sidebar_position:7},o=void 0,s={unversionedId:"deep-dives/specifications/fml/feature-metadata",id:"deep-dives/specifications/fml/feature-metadata",title:"Providing feature metadata",description:'The feature manifest defines "features" which are used to:',source:"@site/docs/deep-dives/specifications/fml/feature-metadata.mdx",sourceDirName:"deep-dives/specifications/fml",slug:"/fml/feature-metadata",permalink:"/fml/feature-metadata",draft:!1,editUrl:"https://github.com/mozilla/experimenter-docs/edit/main/docs/deep-dives/specifications/fml/feature-metadata.mdx",tags:[],version:"current",sidebarPosition:7,frontMatter:{id:"feature-metadata",title:"Providing feature metadata",slug:"/fml/feature-metadata",sidebar_position:7},sidebar:"sidebar",previous:{title:"Co-enrolling Features",permalink:"/fml/coenrolling-features"},next:{title:"A history of considered changes for Feature Manifest Language",permalink:"/fml/unimplemented"}},l={},m=[{value:"A complete example",id:"a-complete-example",level:2},{value:"<code>description</code>",id:"description",level:2},{value:"<code>documentation</code>",id:"documentation",level:2},{value:"<code>contacts</code>",id:"contacts",level:2},{value:"<code>meta-bug</code>",id:"meta-bug",level:2},{value:"<code>events</code>",id:"events",level:2},{value:"<code>configurator</code>",id:"configurator",level:2}],u={toc:m},c="wrapper";function p(e){let{components:t,...n}=e;return(0,i.kt)(c,(0,a.Z)({},u,n,{components:t,mdxType:"MDXLayout"}),(0,i.kt)("p",null,'The feature manifest defines "features" which are used to:'),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},"generate type safe code to access configuration specified remotely by Nimbus"),(0,i.kt)("li",{parentName:"ul"},"provide default values for the configuration when not specified remotely by Nimbus"),(0,i.kt)("li",{parentName:"ul"},"provide experiment owners and others insight into the feature via experimenter, the Nimbus web site.")),(0,i.kt)("p",null,"This last item is enabled by providing metadata about each feature in the feature manifest."),(0,i.kt)("h2",{id:"a-complete-example"},"A complete example"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-yaml"},"    description: |\n      The in-app messaging system.\n\n    documentation:\n      - name: User documentation\n        url: https://experimenter.info/messaging/mobile-messaging\n      - name: QA documentation\n        url: https://docs.google.com/document/d/555-555/edit?usp=sharing\n\n    meta-bug: https://bugzilla.mozilla.org/show_bug.cgi?id=5555555\n\n    contacts:\n      - jhugman@mozilla.com\n      - amejiamarmol@mozilla.com\n      - twhite@mozilla.com\n      - brennie@mozilla.com\n\n    events:\n      - https://dictionary.telemetry.mozilla.org/apps/fenix/metrics/messaging_message_shown\n      - https://dictionary.telemetry.mozilla.org/apps/fenix/metrics/messaging_message_clicked\n      - https://dictionary.telemetry.mozilla.org/apps/fenix/metrics/messaging_message_dismissed\n      - https://dictionary.telemetry.mozilla.org/apps/fenix/metrics/messaging_message_expired\n      - https://dictionary.telemetry.mozilla.org/apps/fenix/metrics/messaging_malformed\n\n    configurator: https://mozilla.github.io/limelight/\n\n")),(0,i.kt)("h2",{id:"description"},(0,i.kt)("inlineCode",{parentName:"h2"},"description")),(0,i.kt)("p",null,"This is a short description that appears alongside the name in experimenter."),(0,i.kt)("p",null,"It also is used to generate in-line class documentation in generated code."),(0,i.kt)("h2",{id:"documentation"},(0,i.kt)("inlineCode",{parentName:"h2"},"documentation")),(0,i.kt)("p",null,"This is a list of named links to documentation for the feature elsewhere."),(0,i.kt)("p",null,"Documentation might be for experiment owners to read, engineers to read, or QA."),(0,i.kt)("p",null,"Documentation for each variable and field is asked for in the feature manifest; for simpler features, this may be sufficient as experiment owner documentation, however, for more complex features a more cohesive document for a less technical audience may be more appropriate."),(0,i.kt)("p",null,"QA documentation may already exist for the feature, or it might be created from ",(0,i.kt)("a",{parentName:"p",href:"https://docs.google.com/document/d/1vM8XUpNeVTFl8traztQd6rTGrEhP9I91zObbDdMUU7s/edit?usp=sharing"},"an existing template"),"."),(0,i.kt)("p",null,"Minimally, QA documentation should include:"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},"how to manipulate the app/feature/configuration so that the app shows the feature,"),(0,i.kt)("li",{parentName:"ul"},"how to manipulate the app/feature/configuration so it emits the exposure event for an experiment,"),(0,i.kt)("li",{parentName:"ul"},"how to manipulate the app/feature/configuration so each event listed in the ",(0,i.kt)("inlineCode",{parentName:"li"},"events")," section is emitted.")),(0,i.kt)("p",null,"If this list is empty, then ",(0,i.kt)("inlineCode",{parentName:"p"},"nimbus-fml validate")," will warn that the feature is missing documentation."),(0,i.kt)("h2",{id:"contacts"},(0,i.kt)("inlineCode",{parentName:"h2"},"contacts")),(0,i.kt)("p",null,"This is a list of email addresses of engineers who have worked on the feature, and feature owners who have responsibility for the feature."),(0,i.kt)("p",null,"These should have valid Jira accounts and will be attached to QA tickets filed for any experiments involving this feature."),(0,i.kt)("p",null,"This is to ensure fast turn around of experiments and resolving question that arise in these QA tickets."),(0,i.kt)("p",null,"If this list is empty, then ",(0,i.kt)("inlineCode",{parentName:"p"},"nimbus-fml validate")," will warn that the feature is missing contacts."),(0,i.kt)("h2",{id:"meta-bug"},(0,i.kt)("inlineCode",{parentName:"h2"},"meta-bug")),(0,i.kt)("p",null,"This is a URL where bugs should be filed against the feature. This may be a metabug for the feature, or an Epic, or a Jira ",(0,i.kt)("inlineCode",{parentName:"p"},"CreateIssue.jspx")," link. The primary function of this URL is a place where QA can file bugs found with this feature, on an ongoing basis."),(0,i.kt)("p",null,"If this is missing, then ",(0,i.kt)("inlineCode",{parentName:"p"},"nimbus-fml validate")," will warn that the feature is missing a meta-bug."),(0,i.kt)("h2",{id:"events"},(0,i.kt)("inlineCode",{parentName:"h2"},"events")),(0,i.kt)("p",null,"This is an optional list of events in the Glean dictionary that this feature emits."),(0,i.kt)("h2",{id:"configurator"},(0,i.kt)("inlineCode",{parentName:"h2"},"configurator")),(0,i.kt)("p",null,"This is an optional link to a feature specific web app for generating valid configurations. This is likely only useful for very large or complex feature configurations (e.g. Glean, messagaing, onboarding)."))}p.isMDXComponent=!0}}]);